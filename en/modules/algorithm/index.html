<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Some Algorithms - OnePiece</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Some Algorithms";
    var mkdocs_page_input_path = "modules\\algorithm.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> OnePiece</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">Overview</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Brief Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../rules/">Some Rules</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Modules</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../camera/">Camera</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../geometry/">Geometry</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../odometry/">Odometry</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../lcdetection/">Loop Closure Detection</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../registration/">Point Cloud Registration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../optimization/">Optimization</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../integration/">Generate Model</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../visualization/">Visualization</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Some Algorithms</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#cluteringh">Clutering.h</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#patchdetectionh">PatchDetection.h</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dcelh">DCEL.h</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#arrangementsh">Arrangements.h</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../tool/">Other Useful Tools</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../examples/">Examples</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Others</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../changelog/">ChangeLog</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../thanksto/">Acknowledgments</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../about/">About Author</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">OnePiece</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Modules &raquo;</li>
        
      
    
    <li>Some Algorithms</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="some-algorithms">Some Algorithms</h2>
<p><em>namespace: algorithm</em></p>
<p>OnePiece also implements some other algorithms. This part of the content is a summary of algorithms used in author's projects. As you will see in <code>example</code>, using this part can also do some interesting work.</p>
<h3 id="cluteringh">Clutering.h</h3>
<p>Three clustering algorithms are implemented in <code>Clutering.h</code>: KMeans(based on OpenCV), MeansShift, KMediods.</p>
<pre><code class="cpp">//KMeans based on opencv
template &lt;int T &gt;
void KMeansClustering(const std::vector&lt;Eigen::Matrix&lt;geometry::scalar,T,1&gt;, 
    Eigen::aligned_allocator&lt;Eigen::Matrix&lt;geometry::scalar,T,1&gt;&gt; &gt; &amp; wait_to_cluster, std::vector&lt;Cluster&lt;T&gt;&gt; &amp;clustering_result, int K);
//MeansShift
template &lt;int T &gt;
void MeansShiftClustering(const std::vector&lt;Eigen::Matrix&lt;geometry::scalar,T,1&gt;, 
    Eigen::aligned_allocator&lt;Eigen::Matrix&lt;geometry::scalar,T,1&gt;&gt; &gt; &amp; wait_to_cluster, std::vector&lt;Cluster&lt;T&gt;&gt; &amp;clustering_result, float radius);
//KMedoids
template &lt;int T &gt;
void KMedoidsClustering(const std::vector&lt;Eigen::Matrix&lt;geometry::scalar,T,1&gt;, 
    Eigen::aligned_allocator&lt;Eigen::Matrix&lt;geometry::scalar,T,1&gt;&gt; &gt; &amp; wait_to_cluster, std::vector&lt;Cluster&lt;T&gt;&gt; &amp;clustering_result, int target_number, bool initialized = false, const std::vector&lt;int&gt; &amp; initialized_index = std::vector&lt;int&gt;());
//For the above three kinds of clustering, you need to determine the vector dimension of the clustered object when writing the code
//KMedoidsClusteringDynamic can handle the dynamic vector dimension
void KMedoidsClusteringDynamic(const geometry::PointXList &amp; wait_to_cluster, 
    std::vector&lt;ClusterDynamic&gt; &amp;clustering_result, int target_number, bool initialized = false, 
    const std::vector&lt;int&gt; &amp; initialized_index = std::vector&lt;int&gt;());
</code></pre>

<h3 id="patchdetectionh">PatchDetection.h</h3>
<p>Line detection for 2D points and plane detection for 3D points are implemented in <code>PatchDetection.h</code>.</p>
<pre><code class="cpp">void LineDetection(const geometry::Point2List &amp;points, 
    std::vector&lt;LinePatch&gt; &amp;results);
void PlaneDetection(const geometry::Point3List &amp;points, 
    std::vector&lt;PlanePatch&gt; &amp;Patches);
</code></pre>

<h3 id="dcelh">DCEL.h</h3>
<p><code>DCEL.h</code> implemented a 'Doubly Connected Edge List', a famous data structure in computational geometry, which can be used to depict the 'Line Arrangements'('Cell Complex'). After many lines(planes) intersect in a space, some grids are formed. These grids are like cells, which are so called cell complex.If you use DCEL to describe it, you can add lines to it at will (or remove a certain line, which is rarely used). It is also easy to find the grids through which a certain line passes, and to locate the grid that contains a given point, with little computation. Anyway, DCEL is a very powerful tool.</p>
<p><img alt="" src="../../img/line_arrangements.jpg" />
<center ><font color=gray>Line Arrangements</font></center></p>
<p><code>DCEL</code> has two main member function:</p>
<pre><code class="cpp">//Insert a line into DCEL
void IncrementLine(const geometry::Line &amp;line);
//Remove a certain line(Needs more tests)
void ReductLine(int line_id);
</code></pre>

<p>Although it looks quiet easy, the implementation is actually a little complex.</p>
<h3 id="arrangementsh">Arrangements.h</h3>
<p><code>Arrangements.h</code> are used to help build a 'DCEL'. It can be used to find all the intersection points of multiple lines to determine the volume of the bounding box.</p>
<p>You can see a demostration of Line Arrangements here: <a href="https://linearrangement.stackblitz.io/">Line Arrangements</a></p>
<p>Using <code>Algorithm</code>, we can implement a <a href="../../examples/#_3">2D map detection of rooms</a>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../tool/" class="btn btn-neutral float-right" title="Other Useful Tools">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../visualization/" class="btn btn-neutral" title="Visualization"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/MyEvolution/OnePiece" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../visualization/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../tool/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../javascripts/config.js" defer></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
